(()=>{"use strict";const e=(e,t,n)=>{let o,i;e.addEventListener("wheel",(e=>{if(e.deltaX<-10){if(o)return window.clearTimeout(o),void(o=window.setTimeout((()=>{o=void 0}),50));t(),i=void 0,o=window.setTimeout((()=>{o=void 0}),50)}if(e.deltaX>10){if(i)return window.clearTimeout(i),void(i=window.setTimeout((()=>{i=void 0}),50));n(),o=void 0,i=window.setTimeout((()=>{i=void 0}),50)}}))},t=e=>[...new Array(e).keys()],n=window.matchMedia("(min-width: 800px)"),o=document.querySelector("section.events"),i=o.querySelector("ul.bar"),r=o.querySelector(".container"),s=r.querySelectorAll(".card"),d=r.querySelector(".card-placeholder"),a=r.querySelector(".picture"),c=a.querySelector(".personal"),l=c.querySelector(".name"),h=c.querySelector(".phone"),u=c.querySelector(".email"),m=o.querySelector(".pagination"),y=m.querySelector("button.left"),w=m.querySelector("button.right"),v=m.querySelector(".page-number"),p=[...Array(s.length)].map((e=>document.createElement("li")));let g=0;const S=()=>{p.forEach(((e,t)=>{switch(!0){case t===g:e.dataset.class="active";break;case 1===Math.abs(t-g):e.dataset.class="near";break;default:e.dataset.class="far"}}))},f=()=>{const e=s[g],t=getComputedStyle(e),o=Number.parseInt(t.height,10),i=s[g].querySelector(".text"),r=i.offsetHeight;s.forEach(((e,t)=>{t===g?e.classList.remove("hidden"):e.classList.add("hidden")})),n.matches?(i.dataset.overflow=r>=o?"auto":"hidden",d.style.removeProperty("height")):(i.dataset.overflow="hidden",d.style.setProperty("height",`${r+96}px`)),a.dataset.index=g,(()=>{const e=[{name:"Анастасия Бондаренко",phone:"+7 911 907 80 87",email:"alvovbondarenko@sberbank.ru"},{name:"Виктория Шатинская",phone:"+7 916 122 30 65",email:"VSShatinskaya@sberbank.ru"},{name:"Александр Федоров",phone:"+7 925 999 20 75",email:"Fedorov.A.S@sberbank.ru"}];l.innerText=e[g].name,h.innerText=`тел.: ${e[g].phone}`,u.innerText=`email: ${e[g].email}`})()},L=()=>{v.innerText=`${g+1} из ${s.length}`,g<=0&&y.classList.add("hidden"),g>0&&y.classList.remove("hidden"),g>=s.length-1&&w.classList.add("hidden"),g<s.length-1&&w.classList.remove("hidden")},q=()=>{g<=0||(g-=1,S(),f(),L())},b=()=>{g>=s.length-1||(g+=1,S(),f(),L())},x=document.querySelector("section.recommendations"),E=x.querySelector(".container"),k=x.querySelectorAll(".card"),T=x.querySelectorAll(".thumbnail");let $=0;const A=window.matchMedia("(min-width: 800px)"),M=window.matchMedia("(min-width: 1224px)");let C=0;const P=new ResizeObserver((e=>{window.clearTimeout(C),C=window.setTimeout((()=>{const n=e.find((e=>e.target===E));n&&(e=>{$=e.contentRect.width;for(const e in t(k.length)){const t=k[e];t&&(t.classList.contains("hidden")?R(e):t.style.setProperty("width",`${$}px`))}})(n)}),250)})),I=()=>{A.matches?P.observe(E):P.unobserve(E)},R=e=>{const t=k[e],n=T[e];if(t&&n){const o=n.getBoundingClientRect(),i=n.offsetTop-253,r=M.matches?0:o.left-32,s=e%2==0?0:o.width+64,d=M.matches?s:0;t.style.cssText=`\n      left: ${r}px;\n      top: ${i}px;\n      margin-left: ${d}px;\n      width: ${o.width}px;\n      height: ${o.height}px;\n      opacity: 0;\n    `}},B=e=>{"keydown"===e.type&&"Escape"===e.key&&N()},H=e=>{const t=k[e];t&&(N(),t.classList.remove("hidden"),window.setTimeout((()=>{(e=>{const t=k[e],n=T[e];if(t&&n){const e=M.matches?0:n.offsetTop-253;t.style.cssText=`\n      left: 0;\n      top: ${e}px;\n      margin-left: 0;\n      width: ${$}px;\n      height: 696px;\n      opacity: 1;\n    `}})(e)}),0),window.addEventListener("keydown",B))},N=()=>{for(const e in t(k.length))O(e)},O=e=>{const t=k[e];t&&!t.classList.contains("hidden")&&(R(e),setTimeout((()=>{t.classList.add("hidden")}),250)),window.removeEventListener("keydown",B)},X=window.matchMedia("(min-width: 800px)"),z=document.querySelector("section.advices"),D=z.querySelector(".container"),F=D.querySelectorAll(".card"),V=D.querySelector(".card-placeholder"),j=D.querySelector(".picture"),G=z.querySelector(".pagination"),J=G.querySelector("button.left"),K=G.querySelector("button.right");let Q=0;const U=()=>{const e=F[Q],t=getComputedStyle(e),n=Number.parseInt(t.height,10),o=F[Q].querySelector(".content"),i=o.offsetHeight;F.forEach(((e,t)=>{t===Q?e.classList.remove("hidden"):e.classList.add("hidden")})),X.matches?(o.dataset.overflow=i>=n?"auto":"hidden",V.style.removeProperty("height")):(o.dataset.overflow="hidden",V.style.setProperty("height",`${i+48}px`)),j.dataset.index=Q},W=()=>{Q<=0&&J.classList.add("hidden"),Q>0&&J.classList.remove("hidden"),Q>=F.length-1&&K.classList.add("hidden"),Q<F.length-1&&K.classList.remove("hidden")},Y=()=>{Q<=0||(Q-=1,U(),W())},Z=()=>{Q>=F.length-1||(Q+=1,U(),W())};document.addEventListener("DOMContentLoaded",(()=>{(()=>{const e=document.getElementById("navToggle");if(!e)return;const t=document.querySelector("section.title");e.addEventListener("click",(()=>{t.classList.toggle("mobile-nav-visible")}))})(),setTimeout((()=>{i.replaceChildren(...p),S(),f(),L(),n.addEventListener("change",f),y.addEventListener("click",q),w.addEventListener("click",b),e(o,q,b),m.classList.remove("hidden"),(()=>{I(),A.addEventListener("change",I);for(const e in t(k.length))R(e),k[e].classList.add("hidden"),k[e].querySelector("button").addEventListener("click",(()=>{O(e)})),T[e].querySelector("button").addEventListener("click",(()=>{H(e)}));const e=E.querySelector(".cards");e&&(e.style.display="block")})(),U(),W(),X.addEventListener("change",U),J.addEventListener("click",Y),K.addEventListener("click",Z),e(z,Y,Z),G.classList.remove("hidden")}),100),document.querySelectorAll("footer .row").forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("opened")}))}))}))})();