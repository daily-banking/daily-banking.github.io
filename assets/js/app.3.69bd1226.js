(()=>{"use strict";const e=e=>[...new Array(e).keys()],t=document.querySelector("section.recommendations"),n=t.querySelector(".container"),o=t.querySelectorAll(".card"),i=t.querySelectorAll(".thumbnail");let s=0;const c=window.matchMedia("(min-width: 800px)"),d=window.matchMedia("(min-width: 1224px)");let l=0;const r=new ResizeObserver((t=>{window.clearTimeout(l),l=window.setTimeout((()=>{const i=t.find((e=>e.target===n));i&&(t=>{s=t.contentRect.width;for(const t in e(o.length)){const e=o[t];e&&(e.classList.contains("hidden")?h(t):e.style.setProperty("width",`${s}px`))}})(i)}),250)})),a=()=>{c.matches?r.observe(n):r.unobserve(n)},h=e=>{const t=o[e],n=i[e];if(t&&n){const o=n.getBoundingClientRect(),i=n.offsetTop-253,s=d.matches?0:o.left-32,c=e%2==0?0:o.width+64,l=d.matches?c:0;t.style.cssText=`\n      left: ${s}px;\n      top: ${i}px;\n      margin-left: ${l}px;\n      width: ${o.width}px;\n      height: ${o.height}px;\n      opacity: 0;\n    `}},m=t=>{const n=o[t];if(n){for(const t in e(o.length))u(t);n.classList.remove("hidden"),window.setTimeout((()=>{(e=>{const t=o[e],n=i[e];if(t&&n){let o=0;e>3&&(o=2*n.getBoundingClientRect().height+128),d.matches||(o=n.offsetTop-253),t.style.cssText=`\n      left: 0;\n      top: ${o}px;\n      margin-left: 0;\n      width: ${s}px;\n      height: 696px;\n      opacity: 1;\n    `}})(t)}),0)}},u=e=>{const t=o[e];t&&!t.classList.contains("hidden")&&(h(e),setTimeout((()=>{t.classList.add("hidden")}),250))};document.addEventListener("DOMContentLoaded",(()=>{(()=>{const e=document.getElementById("navToggle");if(!e)return;const t=document.querySelector("section.title");e.addEventListener("click",(()=>{t.classList.toggle("mobile-nav-visible")}))})(),setTimeout((()=>{(()=>{console.log("recommendation init"),a(),c.addEventListener("change",a);for(const t in e(o.length))h(t),o[t].classList.add("hidden"),o[t].querySelector("button").addEventListener("click",(()=>{u(t)})),i[t].querySelector("button").addEventListener("click",(()=>{m(t)}));const t=n.querySelector(".cards");t&&(t.style.display="block")})()}),100),document.querySelectorAll("footer .row").forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("opened")}))}))}))})();